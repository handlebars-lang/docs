import{_ as r,C as n,c as s,o as i,j as a,G as p,a as e}from"./chunks/framework.BFa_AUiY.js";const z=JSON.parse('{"title":"代码片段","description":"","frontmatter":{},"headers":[],"relativePath":"zh/guide/partials.md","filePath":"zh/guide/partials.md","lastUpdated":1695492225000}'),o={name:"zh/guide/partials.md"};function m(d,l,u,x,P,b){const t=n("Example");return i(),s("div",null,[l[0]||(l[0]=a("h1",{id:"代码片段",tabindex:"-1"},[e("代码片段 "),a("a",{class:"header-anchor",href:"#代码片段","aria-label":'Permalink to "代码片段"'},"​")],-1)),l[1]||(l[1]=a("p",null,"Handlebars 允许代码片段的复用。代码片段是一段普通的 Handlebars 模板，但它们可以直接由其他模板调用。",-1)),l[2]||(l[2]=a("h2",{id:"基本代码片段",tabindex:"-1"},[e("基本代码片段 "),a("a",{class:"header-anchor",href:"#基本代码片段","aria-label":'Permalink to "基本代码片段"'},"​")],-1)),l[3]||(l[3]=a("p",null,[e("一个代码片段必须通过 "),a("code",null,"Handlebars.registerPartial"),e(" 注册。")],-1)),p(t,{examplePage:"/zh/examples/partials/basic.md",show:"preparationScript"}),l[4]||(l[4]=a("p",null,[e("这个方法将注册代码片段 "),a("code",null,"myPartial"),e("。可以对代码片段进行预编译，并将预编译的模板传到第二个参数。")],-1)),l[5]||(l[5]=a("p",null,"调用代码片段是通过「代码片段调用语法」完成的：",-1)),p(t,{examplePage:"/zh/examples/partials/basic.md",show:"template"}),l[6]||(l[6]=a("p",null,[e("将渲染名为 "),a("code",null,"myPartial"),e(" 的代码片段。当代码片段执行时，它会在当前的代码块的上下文中运行。")],-1)),l[7]||(l[7]=a("h2",{id:"动态代码片段",tabindex:"-1"},[e("动态代码片段 "),a("a",{class:"header-anchor",href:"#动态代码片段","aria-label":'Permalink to "动态代码片段"'},"​")],-1)),l[8]||(l[8]=a("p",null,"使用子表达式语法可以动态选择要执行的部分。",-1)),p(t,{examplePage:"/zh/examples/partials/dynamic.md",show:"template"}),l[9]||(l[9]=a("p",null,[e("这将计算 "),a("code",null,"whichPartial"),e("，然后渲染以函数的返回值作为名称的代码片段。")],-1)),l[10]||(l[10]=a("p",null,[e("子表达式不会解析变量，因此 "),a("code",null,"whichPartial"),e(" 必须是一个函数。如果代码片段的名称是储存在一个变量里面的，则可以通过 "),a("code",null,"lookup"),e(" 助手代码来解决它。")],-1)),p(t,{examplePage:"/zh/examples/partials/variable.md",show:"template"}),l[11]||(l[11]=a("h2",{id:"代码片段上下文",tabindex:"-1"},[e("代码片段上下文 "),a("a",{class:"header-anchor",href:"#代码片段上下文","aria-label":'Permalink to "代码片段上下文"'},"​")],-1)),l[12]||(l[12]=a("p",null,"通过将上下文传递给代码片段，你可以在自定义上下文中执行代码片段。",-1)),p(t,{examplePage:"/zh/examples/partials/other-context.md",show:"template"}),l[13]||(l[13]=a("h2",{id:"代码片段参数",tabindex:"-1"},[e("代码片段参数 "),a("a",{class:"header-anchor",href:"#代码片段参数","aria-label":'Permalink to "代码片段参数"'},"​")],-1)),l[14]||(l[14]=a("p",null,"可以通过 Hash 参数将自定义数据传递到代码片段。",-1)),p(t,{examplePage:"/zh/examples/partials/parameters.md",show:"template"}),l[15]||(l[15]=a("p",null,[e("代码片段运行时会将参数设置为 "),a("code",null,"value"),e("。")],-1)),l[16]||(l[16]=a("p",null,"这对于把数据从父级传递到代码片段的上下文中的时候特别有用：",-1)),p(t,{examplePage:"/zh/examples/partials/parent-context.md",show:"template"}),l[17]||(l[17]=a("h2",{id:"代码片段代码块",tabindex:"-1"},[e("代码片段代码块 "),a("a",{class:"header-anchor",href:"#代码片段代码块","aria-label":'Permalink to "代码片段代码块"'},"​")],-1)),l[18]||(l[18]=a("p",null,"一般来讲，尝试渲染一个未注册的代码片段会抛出错误。如果需要阻止错误抛出，可以在代码块中嵌套代码片段。",-1)),p(t,{examplePage:"/zh/examples/partials/failover.md",show:"template"}),l[19]||(l[19]=a("p",null,[e("如果代码片段 "),a("code",null,"myPartial"),e(" 尚未注册，则 "),a("code",null,"Failover content"),e(" 将被渲染。")],-1)),l[20]||(l[20]=a("p",null,[e("这种代码块的语法也可以用于将模板传递到代码片段中。有专门的代码片段执行此操作："),a("code",null,"@partial-block"),e("。考虑如下模板：")],-1)),p(t,{examplePage:"/zh/examples/partials/partial-block.md",show:"template"}),l[21]||(l[21]=a("p",null,[a("code",null,"layout"),e(" 代码片段包含")],-1)),p(t,{examplePage:"/zh/examples/partials/partial-block.md",show:"partial",name:"layout"}),l[22]||(l[22]=a("p",null,"这将渲染：",-1)),p(t,{examplePage:"/zh/examples/partials/partial-block.md",show:"output"}),l[23]||(l[23]=a("p",null,[e("当以这种方式调用时，代码块将在 "),a("strong",null,"调用时代码片段中的上下文"),e(" 中执行。此时深度路径查询和代码块参数是相对于代码片段的，而非代码片段的模板。")],-1)),p(t,{examplePage:"/zh/examples/partials/partial-block-parameters.md",show:"template"}),l[24]||(l[24]=a("p",null,[e("这将渲染模板中的 "),a("code",null,"person.firstname"),e(" 而非代码片段。")],-1)),l[25]||(l[25]=a("h2",{id:"内联代码片段",tabindex:"-1"},[e("内联代码片段 "),a("a",{class:"header-anchor",href:"#内联代码片段","aria-label":'Permalink to "内联代码片段"'},"​")],-1)),l[26]||(l[26]=a("p",null,[e("模板可以通过 "),a("code",null,"inline"),e(" 修饰符定义代码块范围之内的代码片段。")],-1)),p(t,{examplePage:"/zh/examples/partials/inline.md",show:"template"}),l[27]||(l[27]=a("p",null,[e("这将为每个 child 渲染 "),a("code",null,"myPartial"),e("。")],-1)),l[28]||(l[28]=a("p",null,"每个内联代码片段均可用于当前代码块和所有子代码块（包括代码片段）。这使得「布局模板」和其他类似的功能成为可能：",-1)),p(t,{examplePage:"/zh/examples/partials/inline-blocks.md",show:"template"}),l[29]||(l[29]=a("p",null,[e("其中 "),a("code",null,"layout"),e(" 可能是：")],-1)),p(t,{examplePage:"/zh/examples/partials/inline-blocks.md",show:"partial",name:"layout"})])}const f=r(o,[["render",m]]);export{z as __pageData,f as default};
