import{_ as d,C as h,c as k,o as r,j as s,G as e,aj as p,a,t as o,w as t}from"./chunks/framework.218xjblo.js";const b=JSON.parse('{"title":"表达式","description":"","frontmatter":{},"headers":[],"relativePath":"zh/guide/expressions.md","filePath":"zh/guide/expressions.md","lastUpdated":1695492225000}'),g={name:"zh/guide/expressions.md"};function u(m,i,F,E,y,c){const l=h("Example"),n=h("Flex");return r(),k("div",null,[i[4]||(i[4]=s("h1",{id:"表达式",tabindex:"-1"},[a("表达式 "),s("a",{class:"header-anchor",href:"#表达式","aria-label":'Permalink to "表达式"'},"​")],-1)),i[5]||(i[5]=s("div",null,[s("p",null,[a("Handlebars 表达式是 Handlebars 模板的基本单位。 您可以在 "),s("code",null,"{{mustache}}"),a(" 中单独使用它们或将它们用作 Handlebars 助手代码，或将其用作 Hash 参数中的值。")])],-1)),i[6]||(i[6]=s("h2",{id:"基本用法",tabindex:"-1"},[a("基本用法 "),s("a",{class:"header-anchor",href:"#基本用法","aria-label":'Permalink to "基本用法"'},"​")],-1)),s("p",null,[i[0]||(i[0]=a("Handlebars 表达式是一些以双花括号 ",-1)),s("code",null,o(),1),i[1]||(i[1]=a(" 括起来的内容。在以下的模版中，",-1)),i[2]||(i[2]=s("code",null,"firstname",-1)),i[3]||(i[3]=a(" 是一个被声明为表达式的变量，且被双花括号括起来。",-1))]),e(l,{examplePage:"/zh/examples/simple-expressions.md",show:"template"}),i[7]||(i[7]=s("p",null,"如果将以下对象输入模板：",-1)),e(l,{examplePage:"/zh/examples/simple-expressions.md",show:"input"}),i[8]||(i[8]=s("p",null,"表达式会编译为如下输出：",-1)),e(l,{examplePage:"/zh/examples/simple-expressions.md",show:"output"}),i[9]||(i[9]=s("h2",{id:"路径表达式",tabindex:"-1"},[a("路径表达式 "),s("a",{class:"header-anchor",href:"#路径表达式","aria-label":'Permalink to "路径表达式"'},"​")],-1)),i[10]||(i[10]=s("p",null,"Handlebars 表达式亦可为以句点分隔的路径。",-1)),e(l,{examplePage:"/zh/examples/path-expressions-dot.md",show:"template"}),i[11]||(i[11]=s("p",null,[a("这个表达式将会在输入对象中查找 "),s("code",null,"person"),a(" 属性，然后查找 "),s("code",null,"person"),a(" 对象中的 "),s("code",null,"firstname"),a(" 和"),s("code",null,"lastname"),a("属性。 person 对象内的属性。")],-1)),i[12]||(i[12]=s("p",null,"将如下输入传入模版：",-1)),e(l,{examplePage:"/zh/examples/path-expressions-dot.md",show:"input"}),i[13]||(i[13]=s("p",null,"会获得如下输出：",-1)),e(l,{examplePage:"/zh/examples/path-expressions-dot.md",show:"output"}),i[14]||(i[14]=s("p",null,[a("Handlebars 同时支持一个已弃用的 "),s("code",null,"/"),a(" 语法，因此你可以将上面的例子这样写：")],-1)),e(l,{examplePage:"/zh/examples/path-expressions-slash.md",show:"template"}),i[15]||(i[15]=s("h2",{id:"更改上下文",tabindex:"-1"},[a("更改上下文 "),s("a",{class:"header-anchor",href:"#更改上下文","aria-label":'Permalink to "更改上下文"'},"​")],-1)),i[16]||(i[16]=s("p",null,[a("一些诸如 "),s("code",null,"#with"),a(" and "),s("code",null,"#each"),a(" 的助手代码使你能够操作嵌套的对象。当你在路径中包含 "),s("code",null,"../"),a(" 时，Handlebars 将转回父级上下文。")],-1)),e(l,{examplePage:"/zh/examples/path-expressions-dot-dot",show:"template"}),i[17]||(i[17]=s("p",null,"即使在注释的上下文中输出了名称，它仍然可以返回到主上下文（根对象）以检索前缀。",-1)),i[18]||(i[18]=s("div",null,[s("div",{class:"warning custom-block"},[s("p",{class:"custom-block-title"},"WARNING"),s("p",null,[s("code",null,"../"),a(" 解析的确切值根据调用该代码块的助手代码不同而有所不同。仅在上下文更改必要时使用 "),s("code",null,"../"),a("。诸如 "),s("code",null,"{{#each}}"),a(" 之类的子助手代码将需要使用 "),s("code",null,"../"),a(" ，而诸如 "),s("code",null,"{{#if}}"),a(" 之类的助手代码则不需要。")]),s("div",{class:"language-handlebars vp-adaptive-theme"},[s("button",{title:"Copy Code",class:"copy"}),s("span",{class:"lang"},"handlebars"),s("pre",{class:"shiki shiki-themes github-light github-dark vp-code",tabindex:"0","v-pre":""},[s("code",null,[s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"{{"),s("span",{style:{"--shiki-light":"#E36209","--shiki-dark":"#FFAB70"}},"permalink"),s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"}}")]),a(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"{{"),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"#each"),s("span",{style:{"--shiki-light":"#E36209","--shiki-dark":"#FFAB70"}}," comments"),s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"}}")]),a(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"  {{"),s("span",{style:{"--shiki-light":"#E36209","--shiki-dark":"#FFAB70"}},"../permalink"),s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"}}")]),a(`
`),s("span",{class:"line"}),a(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"  {{"),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"#if"),s("span",{style:{"--shiki-light":"#E36209","--shiki-dark":"#FFAB70"}}," title"),s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"}}")]),a(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"    {{"),s("span",{style:{"--shiki-light":"#E36209","--shiki-dark":"#FFAB70"}},"../permalink"),s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"}}")]),a(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"  {{"),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"/if"),s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"}}")]),a(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"{{"),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"/each"),s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"}}")])])])]),s("p",null,[a("在此示例中，以上所有引用相同的前缀值，即使它们位于不同的块中也是如此。这样的行为是从 Handlebars 4 开始的， "),s("a",{href:"https://github.com/handlebars-lang/handlebars.js/blob/master/release-notes.md",target:"_blank",rel:"noreferrer"},"发行说明"),a(" 也讨论了先前的行为作为迁移计划。Handlebars 还允许通过 "),s("code",null,"this"),a(" 来解决助手和数据字段之间的名称冲突。参考：")])])],-1)),i[19]||(i[19]=p("",6)),e(l,{examplePage:"/zh/examples/literal-segments.md",show:"template"}),i[20]||(i[20]=p("",3)),e(l,{examplePage:"/zh/examples/html-escaping.md",show:"template"}),i[21]||(i[21]=s("p",null,"将如下特殊的输入传入模版：",-1)),e(l,{examplePage:"/zh/examples/html-escaping.md",show:"input"}),i[22]||(i[22]=s("div",null,[s("p",null,[a("使用 "),s("code",null,"{{{"),a(" 会输出原始结果。否则将会输出 HTML 转义之后的结果，如下面的例子所示。")])],-1)),e(l,{examplePage:"/zh/examples/html-escaping.md",show:"output"}),i[23]||(i[23]=s("h2",{id:"助手代码",tabindex:"-1"},[a("助手代码 "),s("a",{class:"header-anchor",href:"#助手代码","aria-label":'Permalink to "助手代码"'},"​")],-1)),i[24]||(i[24]=s("p",null,"助手代码可以实现一些并非 Handlesbars 语言本身的功能。",-1)),i[25]||(i[25]=s("p",null,[a("在运行时可以用 "),s("code",null,"HandleBars.registerHelper"),a(" 可以注册助手代码。例如为了将字符串中的所有字符转换为大写。")],-1)),e(l,{examplePage:"/zh/examples/helper-simple.md",show:"preparationScript"}),i[26]||(i[26]=s("p",null,"Handlebars 助手代码的调用需要一个简单标识符，且可紧接一个或多个参数（以空格分割）。每一参数为一个 Handlebars 表达式，且将会用于上方“基本用法”中相同的方法来计算。",-1)),e(l,{examplePage:"/zh/examples/helper-simple.md",show:"template"}),i[27]||(i[27]=s("p",null,[a("此例子中，"),s("code",null,"loud"),a(" 是助手代码的名称，而 "),s("code",null,"lastname"),a(" 为传递给助手代码的参数。此模板，将会将输入的 "),s("code",null,"uppercase"),a(" 属性正确地转换为大写：")],-1)),e(n,null,{default:t(()=>[e(l,{examplePage:"/zh/examples/helper-simple.md",show:"input"}),e(l,{examplePage:"/zh/examples/helper-simple.md",show:"output"})]),_:1}),i[28]||(i[28]=s("h3",{id:"避免助手代码的返回值被-html-转义",tabindex:"-1"},[a("避免助手代码的返回值被 HTML 转义 "),s("a",{class:"header-anchor",href:"#避免助手代码的返回值被-html-转义","aria-label":'Permalink to "避免助手代码的返回值被 HTML 转义"'},"​")],-1)),i[29]||(i[29]=s("div",null,[s("p",null,[a("即使当使用 "),s("code",null,"{{"),a(" 而非 "),s("code",null,"{{{"),a(" 来调用助手代码时，当你的助手代码返回一个 "),s("code",null,"Handlebars.Safestring"),a(" 的实例，返回值也并不会被转义。你需要留心将所有参数正确地使用 "),s("code",null,"Handlebars.escapeExpression"),a(" 来转义。")])],-1)),e(l,{examplePage:"/zh/examples/helper-safestring.md",show:"preparationScript"}),i[30]||(i[30]=s("h3",{id:"具有多个参数的助手代码",tabindex:"-1"},[a("具有多个参数的助手代码 "),s("a",{class:"header-anchor",href:"#具有多个参数的助手代码","aria-label":'Permalink to "具有多个参数的助手代码"'},"​")],-1)),i[31]||(i[31]=s("p",null,"我们观察一下另一个具有两个参数的助手代码：",-1)),e(l,{examplePage:"/zh/examples/helper-multiple-parameters.md",show:"template"}),i[32]||(i[32]=s("p",null,[a("此例子中，Handlebars 将把两个参数传递给 "),s("code",null,"link"),a(" 助手代码：字符串 "),s("code",null,"See Website"),a(" 与从下面提供的 "),s("code",null,"people"),a(" 输入对象中的 "),s("code",null,"people.value"),a("。")],-1)),e(l,{examplePage:"/zh/examples/helper-multiple-parameters.md",show:"input"}),i[33]||(i[33]=s("p",null,[a("如同代码中所述，此助手代码 "),s("code",null,"link"),a(" 用于生成一个超链接。")],-1)),e(l,{examplePage:"/zh/examples/helper-multiple-parameters.md",show:"preparationScript"}),i[34]||(i[34]=s("p",null,"我们会从上面的输入获得如下输出：",-1)),e(l,{examplePage:"/zh/examples/helper-multiple-parameters.md",show:"output"}),i[35]||(i[35]=s("p",null,[a("在此例中，你可以使用同一助手代码，但使用基于 "),s("code",null,"people.text"),a(" 的值的动态文本：")],-1)),e(n,null,{default:t(()=>[e(l,{examplePage:"/zh/examples/helper-dynamic-parameters.md",show:"template"}),e(l,{examplePage:"/zh/examples/helper-dynamic-parameters.md",show:"input"})]),_:1}),i[36]||(i[36]=s("h3",{id:"字面量参数",tabindex:"-1"},[a("字面量参数 "),s("a",{class:"header-anchor",href:"#字面量参数","aria-label":'Permalink to "字面量参数"'},"​")],-1)),i[37]||(i[37]=s("p",null,[a("帮助代码调用亦可含字面量，作为参数抑或是 Hash 参数。支持的字面量有数字、字符串、"),s("code",null,"true"),a(", "),s("code",null,"false"),a(", "),s("code",null,"null"),a(" 及 "),s("code",null,"undefined"),a("：")],-1)),e(n,null,{default:t(()=>[e(l,{examplePage:"/zh/examples/helper-literals",show:"template"})]),_:1}),i[38]||(i[38]=s("h3",{id:"含有-hash-参数的助手代码",tabindex:"-1"},[a("含有 Hash 参数的助手代码 "),s("a",{class:"header-anchor",href:"#含有-hash-参数的助手代码","aria-label":'Permalink to "含有 Hash 参数的助手代码"'},"​")],-1)),i[39]||(i[39]=s("p",null,"Handlebars 提供了额外的元数据，例如 Hash 参数来作为助手代码的最后一个参数。",-1)),e(l,{examplePage:"/zh/examples/helper-hash-arguments.md",show:"template"}),i[40]||(i[40]=s("p",null,[a("在此模版中，最后一个参数 "),s("code",null,'href=people.url class="people"'),a(" 为传送至助手代码的 Hash 参数。")],-1)),i[41]||(i[41]=s("p",null,"Hash 参数中的键必须为简单标识符，且值为 Handlebars 表达式。这意味着值可以为简单标识符，路径或字符串。",-1)),i[42]||(i[42]=s("p",null,[a("若将如下输入传入模版，其中 "),s("code",null,"person.url"),a(" 的值可以从 "),s("code",null,"person"),a(" 中获取。")],-1)),e(l,{examplePage:"/zh/examples/helper-hash-arguments.md",show:"input"}),i[43]||(i[43]=s("p",null,[a("正如以下助手代码中的描述，Hash 参数可以从最后一个参数 "),s("code",null,"options"),a(" 获取，以用于助手代码内部的进一步处理。")],-1)),e(l,{examplePage:"/zh/examples/helper-hash-arguments.md",show:"preparationScript"}),i[44]||(i[44]=s("p",null,"上述助手代码产生的输出如下：",-1)),e(l,{examplePage:"/zh/examples/helper-hash-arguments.md",show:"output"}),i[45]||(i[45]=p("",4)),e(n,null,{default:t(()=>[e(l,{examplePage:"/zh/examples/helper-data-name-conflict",show:"template"}),e(l,{examplePage:"/zh/examples/helper-data-name-conflict",show:"input"}),e(l,{examplePage:"/zh/examples/helper-data-name-conflict",show:"preparationScript"})]),_:1}),i[46]||(i[46]=p("",19))])}const x=d(g,[["render",u]]);export{b as __pageData,x as default};
