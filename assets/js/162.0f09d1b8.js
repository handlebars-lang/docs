(window.webpackJsonp=window.webpackJsonp||[]).push([[162],{637:function(a,e,t){"use strict";t.r(e);var s=t(51),r=Object(s.a)({},(function(){var a=this,e=a.$createElement,t=a._self._c||e;return t("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[t("h1",{attrs:{id:"介绍"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#介绍"}},[a._v("#")]),a._v(" 介绍")]),a._v(" "),t("h2",{attrs:{id:"什么是-handlebars"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#什么是-handlebars"}},[a._v("#")]),a._v(" 什么是 Handlebars？")]),a._v(" "),t("p",[a._v("Handlebars 是一种简单的 "),t("strong",[a._v("模板语言")]),a._v("。")]),a._v(" "),t("p",[a._v("它使用模板和输入对象来生成 HTML 或其他文本格式。Handlebars 模板看起来像常规的文本，但是它带有嵌入式的 Handlebars 表达式\n。")]),a._v(" "),t("ExamplePart",{attrs:{examplePage:"/zh/examples/simple-expressions",show:"template"}}),a._v(" "),t("p",[a._v("Handlebars 表达式是一个 "),t("code",[a._v("{{")]),a._v("，一些内容，后跟一个 "),t("code",[a._v("}}")]),a._v("。执行模板时，这些表达式会被输入对象中的值所替换。")]),a._v(" "),t("p",[t("RouterLink",{staticClass:"button-link",attrs:{to:"/zh/guide/expressions.html"}},[a._v("了解更多: 表达式")])],1),a._v(" "),t("h2",{attrs:{id:"安装"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#安装"}},[a._v("#")]),a._v(" 安装")]),a._v(" "),t("p",[a._v("测试 Handlebars 的最快方法是使用 "),t("em",[a._v("CDN")]),a._v(" 加载它并将其嵌入 HTML 文件中。")]),a._v(" "),t("div",{staticClass:"language-html extra-class"},[t("pre",{pre:!0,attrs:{class:"language-html"}},[t("code",[t("span",{pre:!0,attrs:{class:"hljs-comment"}},[a._v("\x3c!-- Include Handlebars from a CDN --\x3e")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"hljs-tag"}},[a._v("<"),t("span",{pre:!0,attrs:{class:"hljs-name"}},[a._v("script")]),a._v(" "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[a._v("src")]),a._v("="),t("span",{pre:!0,attrs:{class:"hljs-string"}},[a._v('"https://cdn.jsdelivr.net/npm/handlebars@latest/dist/handlebars.js"')]),a._v(">")]),t("span",{pre:!0,attrs:{class:"hljs-tag"}},[a._v("</"),t("span",{pre:!0,attrs:{class:"hljs-name"}},[a._v("script")]),a._v(">")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"hljs-tag"}},[a._v("<"),t("span",{pre:!0,attrs:{class:"hljs-name"}},[a._v("script")]),a._v(">")]),t("span",{pre:!0,attrs:{class:"javascript"}},[a._v("\n  "),t("span",{pre:!0,attrs:{class:"hljs-comment"}},[a._v("// compile the template")]),a._v("\n  "),t("span",{pre:!0,attrs:{class:"hljs-keyword"}},[a._v("var")]),a._v(" template = Handlebars.compile("),t("span",{pre:!0,attrs:{class:"hljs-string"}},[a._v('"Handlebars <b>{{doesWhat}}</b>"')]),a._v(");\n  "),t("span",{pre:!0,attrs:{class:"hljs-comment"}},[a._v("// execute the compiled template and print the output to the console")]),a._v("\n  "),t("span",{pre:!0,attrs:{class:"hljs-built_in"}},[a._v("console")]),a._v(".log(template({ "),t("span",{pre:!0,attrs:{class:"hljs-attr"}},[a._v("doesWhat")]),a._v(": "),t("span",{pre:!0,attrs:{class:"hljs-string"}},[a._v('"rocks!"')]),a._v(" }));\n")]),t("span",{pre:!0,attrs:{class:"hljs-tag"}},[a._v("</"),t("span",{pre:!0,attrs:{class:"hljs-name"}},[a._v("script")]),a._v(">")]),a._v("\n")])])]),t("div",{staticClass:"custom-block warning"},[t("p",{staticClass:"custom-block-title"},[a._v("注意")]),a._v(" "),t("p",[a._v("此方法可用于小页面和测试用途。在生产环境中还有其他几种使用 Handlebars 的方法。")]),a._v(" "),t("p",[t("RouterLink",{staticClass:"button-link",attrs:{to:"/zh/installation/"}},[a._v("了解更多: 安装")])],1)]),a._v(" "),t("h1",{attrs:{id:"语言特性"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#语言特性"}},[a._v("#")]),a._v(" 语言特性")]),a._v(" "),t("h2",{attrs:{id:"简单的表达式"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#简单的表达式"}},[a._v("#")]),a._v(" 简单的表达式")]),a._v(" "),t("p",[a._v("如上文所示，以下模板定义了两个 Handlebars 表达式：")]),a._v(" "),t("ExamplePart",{attrs:{examplePage:"/zh/examples/simple-expressions",show:"template"}}),a._v(" "),t("p",[a._v("如果应用于输入对象：")]),a._v(" "),t("ExamplePart",{attrs:{examplePage:"/zh/examples/simple-expressions",show:"input"}}),a._v(" "),t("p",[a._v("则表达式将被相应的属性替换。结果是：")]),a._v(" "),t("ExamplePart",{attrs:{examplePage:"/zh/examples/simple-expressions",show:"output"}}),a._v(" "),t("h2",{attrs:{id:"嵌套输入对象"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#嵌套输入对象"}},[a._v("#")]),a._v(" 嵌套输入对象")]),a._v(" "),t("p",[a._v("有时，输入对象包含其他对象或数组。例如：")]),a._v(" "),t("ExamplePart",{attrs:{examplePage:"/zh/examples/path-expressions-dot",show:"input"}}),a._v(" "),t("p",[a._v("在这种情况下，你可以使用点符号来访问嵌套属性：")]),a._v(" "),t("ExamplePart",{attrs:{examplePage:"/zh/examples/path-expressions-dot",show:"template"}}),a._v(" "),t("p",[t("RouterLink",{staticClass:"button-link",attrs:{to:"/zh/guide/expressions.html"}},[a._v("了解更多: 表达式")])],1),a._v(" "),t("p",[a._v("一些内置的助手代码允许你将当前上下文更改为嵌套对象。然后，你就可以像访问根对象一样访问该对象了。")]),a._v(" "),t("h2",{attrs:{id:"计算上下文"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#计算上下文"}},[a._v("#")]),a._v(" 计算上下文")]),a._v(" "),t("p",[a._v("内置的块助手代码 "),t("code",[a._v("each")]),a._v(" 和 "),t("code",[a._v("with")]),a._v(" 允许你更改当前代码块的值。")]),a._v(" "),t("p",[t("code",[a._v("with")]),a._v(" 助手代码注入到对象的属性中，使你可以访问其属性。")]),a._v(" "),t("Flex",[t("ExamplePart",{attrs:{examplePage:"/zh/examples/builtin-helper-with-block",show:"template"}}),a._v(" "),t("ExamplePart",{attrs:{examplePage:"/zh/examples/builtin-helper-with-block",show:"input"}})],1),a._v(" "),t("p",[t("code",[a._v("each")]),a._v(" 助手代码会迭代一个数组，使你可以通过 Handlebars 简单访问每个对象的属性表达式。")]),a._v(" "),t("Flex",[t("ExamplePart",{attrs:{examplePage:"/zh/examples/builtin-helper-each-block",show:"template"}}),a._v(" "),t("ExamplePart",{attrs:{examplePage:"/zh/examples/builtin-helper-each-block",show:"input"}})],1),a._v(" "),t("p",[t("RouterLink",{staticClass:"button-link",attrs:{to:"/zh/guide/builtin-helpers.html"}},[a._v("了解更多: 内置助手代码")])],1),a._v(" "),t("h2",{attrs:{id:"模板注释"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#模板注释"}},[a._v("#")]),a._v(" 模板注释")]),a._v(" "),t("div",{pre:!0},[t("p",[a._v("你可以像在其他语言的代码中一样在 Handlebars 代码中使用注释。由于 Handlebars 代码中通常存在一定程度的逻辑，因此这是一个好\n习惯。")]),a._v(" "),t("p",[a._v("注释将不会出现在结果输出中。如果你想显示注释。只需使用 html 注释。它们将被输出。")]),a._v(" "),t("p",[a._v("任何包含 "),t("code",[a._v("}}")]),a._v(" 或其他 Handlebars 标记的注释都应该使用 "),t("code",[a._v("{{!--}}")]),a._v(" 语法。")])]),t("ExamplePart",{attrs:{examplePage:"/zh/examples/comments",show:"template"}}),a._v(" "),t("h2",{attrs:{id:"自定义助手"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#自定义助手"}},[a._v("#")]),a._v(" 自定义助手")]),a._v(" "),t("p",[a._v("通过调用 Handlebars.registerHelper 方法，你可以从模板中的任何上下文中访问 Handlebars 助手代码。")]),a._v(" "),t("Flex",[t("ExamplePart",{attrs:{examplePage:"/zh/examples/helper-simple",show:"template"}}),a._v(" "),t("ExamplePart",{attrs:{examplePage:"/zh/examples/helper-simple",show:"preparationScript"}})],1),a._v(" "),t("p",[a._v("助手代码将当前上下文作为函数的 "),t("code",[a._v("this")]),a._v(" 指针接收。")]),a._v(" "),t("Flex",[t("ExamplePart",{attrs:{examplePage:"/zh/examples/helper-this-context",show:"template"}}),a._v(" "),t("ExamplePart",{attrs:{examplePage:"/zh/examples/helper-this-context",show:"preparationScript"}})],1),a._v(" "),t("h2",{attrs:{id:"块助手代码"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#块助手代码"}},[a._v("#")]),a._v(" 块助手代码")]),a._v(" "),t("p",[a._v("代码块表达式使你可以自定义这样的助手代码：这个助手代码可以使用与当前上下文不同的上下文来调用模板。这些块助手代码在名称前\n以 # 号标识，并且需要一个名称相同的结束模板 "),t("code",[a._v("/")]),a._v("。让我们考虑一个生成 HTML 列表的助手代码：")]),a._v(" "),t("ExamplePart",{attrs:{examplePage:"/zh/examples/helper-block",show:"preparationScript"}}),a._v(" "),t("p",[a._v("这个示例创建了一个名为 "),t("code",[a._v("list")]),a._v(" 的助手代码来生成我们的 HTML 列表。助手代码接收一个 "),t("code",[a._v("people")]),a._v(" 参数和一个 "),t("code",[a._v("options")]),a._v(" 参数\n。"),t("code",[a._v("options")]),a._v(" 包含一个名为 "),t("code",[a._v("fn")]),a._v(" 的属性，这个属性使你能够像调用普通的 Handlebars 模板一样调用代码块的上下文。")]),a._v(" "),t("p",[a._v("执行后，模板将渲染：")]),a._v(" "),t("ExamplePart",{attrs:{examplePage:"/zh/examples/helper-block",show:"output"}}),a._v(" "),t("p",[a._v("块助手代码具有其他功能，例如能够创建 "),t("code",[a._v("else")]),a._v(" （例如，由内置的 "),t("code",[a._v("if")]),a._v(" 函数使用）")]),a._v(" "),t("p",[a._v("因为调用 "),t("code",[a._v("options.fn(context)")]),a._v(" 时 Handlebars 会转义块助手代码的内容，因此 Handlebars 不会转义块助手代码的返回结果。如果\n这样做，代码块内部的内容将被两次转义。")]),a._v(" "),t("p",[t("RouterLink",{staticClass:"button-link",attrs:{to:"/zh/guide/block-helpers.html"}},[a._v("了解更多: 块助手代码")])],1),a._v(" "),t("h2",{attrs:{id:"html-转义"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#html-转义"}},[a._v("#")]),a._v(" HTML 转义")]),a._v(" "),t("div",{pre:!0},[t("p",[a._v("因为 Handlebars 最初是设计用来生成 HTML 的，所以它会转义由 "),t("code",[a._v("{{expression}}")]),a._v(" 返回的值。如果你不想让 Handlebars 转义某个值\n，请使用“三重隐藏”（"),t("code",[a._v("{{{")]),a._v("）。")])]),t("ExamplePart",{attrs:{examplePage:"/zh/examples/html-escaping",show:"template"}}),a._v(" "),t("p",[a._v("第二行中的特殊字符将被转义：")]),a._v(" "),t("ExamplePart",{attrs:{examplePage:"/zh/examples/html-escaping",show:"output"}}),a._v(" "),t("p",[a._v("Handlebars 不会转义 "),t("code",[a._v("Handlebars.SafeString")]),a._v("。如果你正在编写一个自己的生成 HTML 的助手代码，你通常会想返回一个\n"),t("code",[a._v("new Handlebars.SafeString(result)")]),a._v("。这种情况下，你将需要手动转义参数。")]),a._v(" "),t("ExamplePart",{attrs:{examplePage:"/zh/examples/helper-safestring",show:"preparationScript"}}),a._v(" "),t("p",[a._v("这将转义传入的参数，但是 response 会被标记为 safe，因此即使未使用“三重隐藏”， Handlebars 也不会尝试转义它。")]),a._v(" "),t("div",{staticClass:"custom-block warning"},[t("p",{staticClass:"custom-block-title"},[a._v("注意")]),a._v(" "),t("p",[a._v("Handlebars 不会转义 JavaScript 字串。使用 Handlebars 生成 JavaScript（例如内联事件处理程序），可能会产生跨域脚本攻击漏洞\n。")])]),a._v(" "),t("h2",{attrs:{id:"代码片段"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#代码片段"}},[a._v("#")]),a._v(" 代码片段")]),a._v(" "),t("p",[a._v("Handlebars 代码片段通过创建共享模板允许代码复用。你可以使用 "),t("code",[a._v("registerPartial")]),a._v(" 方法：")]),a._v(" "),t("ExamplePart",{attrs:{examplePage:"/zh/examples/partials/register",show:"preparationScript"}}),a._v(" "),t("p",[a._v("以下模板和输入：")]),a._v(" "),t("Flex",[t("ExamplePart",{attrs:{examplePage:"/zh/examples/partials/register",show:"template"}}),a._v(" "),t("ExamplePart",{attrs:{examplePage:"/zh/examples/partials/register",show:"input"}})],1),a._v(" "),t("p",[a._v("将渲染得到以下结果：")]),a._v(" "),t("ExamplePart",{attrs:{examplePage:"/zh/examples/partials/register",show:"output"}}),a._v(" "),t("p",[t("RouterLink",{staticClass:"button-link",attrs:{to:"/zh/guide/partials.html"}},[a._v("了解更多: 代码片段")])],1),a._v(" "),t("h2",{attrs:{id:"内置助手代码"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#内置助手代码"}},[a._v("#")]),a._v(" 内置助手代码")]),a._v(" "),t("p",[a._v("Handlebars 提供了各种内置助手代码，例如 "),t("code",[a._v("if")]),a._v(" 条件代码块和 "),t("code",[a._v("each")]),a._v(" 迭代器。")]),a._v(" "),t("p",[t("RouterLink",{staticClass:"button-link",attrs:{to:"/zh/guide/builtin-helpers.html"}},[a._v("了解更多: 内置助手代码")])],1),a._v(" "),t("h2",{attrs:{id:"api-参考"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#api-参考"}},[a._v("#")]),a._v(" API 参考")]),a._v(" "),t("p",[a._v("Handlebars 为应用程序和助手代码提供了各种 API 和实用的方法。")]),a._v(" "),t("p",[t("RouterLink",{staticClass:"button-link",attrs:{to:"/api-reference/"}},[a._v("了解更多: API 参考")])],1)],1)}),[],!1,null,null,null);e.default=r.exports}}]);