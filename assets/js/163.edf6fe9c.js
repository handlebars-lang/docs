(window.webpackJsonp=window.webpackJsonp||[]).push([[163],{632:function(a,e,t){"use strict";t.r(e);var l=t(51),r=Object(l.a)({},(function(){var a=this,e=a.$createElement,t=a._self._c||e;return t("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[t("h1",{attrs:{id:"代码片段"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#代码片段"}},[a._v("#")]),a._v(" 代码片段")]),a._v(" "),t("p",[a._v("Handlebars 允许代码片段的复用。代码片段是一段普通的 Handlebars 模板，但它们可以直接由其他模板调用。")]),a._v(" "),t("h2",{attrs:{id:"基本代码片段"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#基本代码片段"}},[a._v("#")]),a._v(" 基本代码片段")]),a._v(" "),t("p",[a._v("一个代码片段必须通过 "),t("code",[a._v("Handlebars.registerPartial")]),a._v(" 注册。")]),a._v(" "),t("ExamplePart",{attrs:{examplePage:"/zh/examples/partials/basic.md",show:"preparationScript"}}),a._v(" "),t("p",[a._v("这个方法将注册代码片段 "),t("code",[a._v("myPartial")]),a._v("。可以对代码片段进行预编译，并将预编译的模板传到第二个参数。")]),a._v(" "),t("p",[a._v("调用代码片段是通过「代码片段调用语法」完成的：")]),a._v(" "),t("ExamplePart",{attrs:{examplePage:"/zh/examples/partials/basic.md",show:"template"}}),a._v(" "),t("p",[a._v("将渲染名为 "),t("code",[a._v("myPartial")]),a._v(" 的代码片段。当代码片段执行时，它会在当前的代码块的上下文中运行。")]),a._v(" "),t("h2",{attrs:{id:"动态代码片段"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#动态代码片段"}},[a._v("#")]),a._v(" 动态代码片段")]),a._v(" "),t("p",[a._v("使用子表达式语法可以动态选择要执行的部分。")]),a._v(" "),t("ExamplePart",{attrs:{examplePage:"/zh/examples/partials/dynamic.md",show:"template"}}),a._v(" "),t("p",[a._v("这将计算 "),t("code",[a._v("whichPartial")]),a._v("，然后渲染以函数的返回值作为名称的代码片段。")]),a._v(" "),t("p",[a._v("子表达式不会解析变量，因此 "),t("code",[a._v("whichPartial")]),a._v(" 必须是一个函数。如果代码片段的名称是储存在一个变量里面的，则可以通过 "),t("code",[a._v("lookup")]),a._v("\n助手代码来解决它。")]),a._v(" "),t("ExamplePart",{attrs:{examplePage:"/zh/examples/partials/variable.md",show:"template"}}),a._v(" "),t("h2",{attrs:{id:"代码片段上下文"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#代码片段上下文"}},[a._v("#")]),a._v(" 代码片段上下文")]),a._v(" "),t("p",[a._v("通过将上下文传递给代码片段，你可以在自定义上下文中执行代码片段。")]),a._v(" "),t("ExamplePart",{attrs:{examplePage:"/zh/examples/partials/other-context.md",show:"template"}}),a._v(" "),t("h2",{attrs:{id:"代码片段参数"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#代码片段参数"}},[a._v("#")]),a._v(" 代码片段参数")]),a._v(" "),t("p",[a._v("可以通过 Hash 参数将自定义数据传递到代码片段。")]),a._v(" "),t("ExamplePart",{attrs:{examplePage:"/zh/examples/partials/parameters.md",show:"template"}}),a._v(" "),t("p",[a._v("代码片段运行时会将参数设置为 "),t("code",[a._v("value")]),a._v("。")]),a._v(" "),t("p",[a._v("这对于把数据从父级传递到代码片段的上下文中的时候特别有用：")]),a._v(" "),t("ExamplePart",{attrs:{examplePage:"/zh/examples/partials/parent-context.md",show:"template"}}),a._v(" "),t("h2",{attrs:{id:"代码片段代码块"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#代码片段代码块"}},[a._v("#")]),a._v(" 代码片段代码块")]),a._v(" "),t("p",[a._v("一般来讲，尝试渲染一个未注册的代码片段会抛出错误。如果需要阻止错误抛出，可以在代码块中嵌套代码片段。")]),a._v(" "),t("ExamplePart",{attrs:{examplePage:"/zh/examples/partials/failover.md",show:"template"}}),a._v(" "),t("p",[a._v("如果代码片段 "),t("code",[a._v("myPartial")]),a._v(" 尚未注册，则 "),t("code",[a._v("Failover content")]),a._v(" 将被渲染。")]),a._v(" "),t("p",[a._v("这种代码块的语法也可以用于将模板传递到代码片段中。有专门的代码片段执行此操作："),t("code",[a._v("@partial-block")]),a._v("。考虑如下模板：")]),a._v(" "),t("ExamplePart",{attrs:{examplePage:"/zh/examples/partials/partial-block.md",show:"template"}}),a._v(" "),t("p",[t("code",[a._v("layout")]),a._v(" 代码片段包含")]),a._v(" "),t("ExamplePart",{attrs:{examplePage:"/zh/examples/partials/partial-block.md",show:"partial",name:"layout"}}),a._v(" "),t("p",[a._v("这将渲染：")]),a._v(" "),t("ExamplePart",{attrs:{examplePage:"/zh/examples/partials/partial-block.md",show:"output"}}),a._v(" "),t("p",[a._v("当以这种方式调用时，代码块将在 "),t("strong",[a._v("调用时代码片段中的上下文")]),a._v(" 中执行。此时深度路径查询和代码块参数是相对于代码片段的，而非\n代码片段的模板。")]),a._v(" "),t("ExamplePart",{attrs:{examplePage:"/zh/examples/partials/partial-block-parameters.md",show:"template"}}),a._v(" "),t("p",[a._v("这将渲染模板中的 "),t("code",[a._v("person.firstname")]),a._v(" 而非代码片段。")]),a._v(" "),t("h2",{attrs:{id:"内联代码片段"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#内联代码片段"}},[a._v("#")]),a._v(" 内联代码片段")]),a._v(" "),t("p",[a._v("模板可以通过 "),t("code",[a._v("inline")]),a._v(" 修饰符定义代码块范围之内的代码片段。")]),a._v(" "),t("ExamplePart",{attrs:{examplePage:"/zh/examples/partials/inline.md",show:"template"}}),a._v(" "),t("p",[a._v("这将为每个 child 渲染 "),t("code",[a._v("myPartial")]),a._v("。")]),a._v(" "),t("p",[a._v("每个内联代码片段均可用于当前代码块和所有子代码块（包括代码片段）。这使得「布局模板」和其他类似的功能成为可能：")]),a._v(" "),t("ExamplePart",{attrs:{examplePage:"/zh/examples/partials/inline-blocks.md",show:"template"}}),a._v(" "),t("p",[a._v("其中 "),t("code",[a._v("layout")]),a._v(" 可能是：")]),a._v(" "),t("ExamplePart",{attrs:{examplePage:"/zh/examples/partials/inline-blocks.md",show:"partial",name:"layout"}})],1)}),[],!1,null,null,null);e.default=r.exports}}]);