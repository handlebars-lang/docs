(window.webpackJsonp=window.webpackJsonp||[]).push([[98],{571:function(t,e,a){"use strict";a.r(e);var s=a(53),r=Object(s.a)({},(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"런타임-옵션"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#런타임-옵션"}},[t._v("#")]),t._v(" 런타임 옵션")]),t._v(" "),a("div",{pre:!0},[a("p",[a("code",[t._v("Handlebars.compile")]),t._v(" 및 "),a("code",[t._v("Handlebars.precompile")]),t._v(" 함수는 함수를 생성합니다. 이 함수는 "),a("code",[t._v("template(context, options)")]),t._v("로 호출\n될수 있으며, 여기서 "),a("code",[t._v("context")]),t._v("는 입력 객체입니다.")]),t._v(" "),a("p",[a("code",[t._v("options")]),t._v(" 는 다음 속성을 가질 수 있는 객체입니다.")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("data")]),t._v(" : 사용자 정의 "),a("code",[t._v("@variable")]),t._v(" 프라이빗 변수를 정의하기 위해 객체를 전달합니다.")]),t._v(" "),a("li",[a("code",[t._v("helpers")]),t._v(" 전역적으로 정의된 헬퍼 외에 사용자 정의 헬퍼를 제공하기 위해 전달합니다. 이 객체에 정의된 값은 템플릿 실행동\n안 전역 객체에 정의된 값을 대체합니다.")]),t._v(" "),a("li",[a("code",[t._v("partials")]),t._v(" 전역적으로 정의된 부분 템플릿 외에 사용자 정의 부분 템플릿을 제공하기 위해 전달합니다. 이 객체에 정의된 값\n은 템플릿 실행 동안 전역 객체에 정의된 값을 대체합니다.")]),t._v(" "),a("li",[a("code",[t._v("allowCallsToHelperMissing")]),t._v("(4.3.0 이후, 안전하지 않음)："),a("code",[t._v("true")]),t._v("로 설정하면 "),a("code",[t._v("{{helperMissing}}")]),t._v(" 및\n"),a("code",[t._v("{{blockHelperMissing}}")]),t._v("와 같은 호출이 허용됩니다. 이 옵션을 설정하면 템플릿 작성자가 Handlebars를 실행하는 환경에서원\n격 코드 실행을 위한 템플릿을 제작할 수 있으므로 주의해야 합니다 (자세한 내용은 여기를 참조하세요\nhttps://github.com/handlebars-lang/handlebars.js/issues/1558).")])])]),a("h2",{attrs:{id:"프로토타입-접근을-제어하는-옵션"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#프로토타입-접근을-제어하는-옵션"}},[t._v("#")]),t._v(" 프로토타입 접근을 제어하는 옵션")]),t._v(" "),a("p",[t._v("버전 4.6.0부터 Handlebars는 기본적으로 컨텍스트 객체의 프로토타입 속성 및 메서드에 대한 접근을 금지합니다. 이는 이러한가\n능성에서 발생하는 다양한 보안 문제 때문입니다. 다음 옵션을 사용하여 이 접근을 제어할 수 있습니다.")]),t._v(" "),a("p",[t._v("::: 위험 이러한 속성을 사용하는 것은 보안 허점을 열 수 있습니다.")]),t._v(" "),a("p",[t._v("프로토타입 속성을 허용하면 템플릿 작성자가 Handlebars가 실행되는 환경에서 임의의 코드를 실행할 수 있습니다. 일부 제한이\n있더라도 공격자는 Handlebars 템플릿을 제작하여 머신을 충돌시킬 수 있습니다.")]),t._v(" "),a("p",[t._v("자세한 내용은 npm 보안 권고 "),a("a",{attrs:{href:"https://www.npmjs.com/advisories/755",target:"_blank",rel:"noopener noreferrer"}},[t._v("755"),a("OutboundLink")],1),t._v(", "),a("a",{attrs:{href:"https://www.npmjs.com/advisories/1164",target:"_blank",rel:"noopener noreferrer"}},[t._v("1164"),a("OutboundLink")],1),t._v(",\n"),a("a",{attrs:{href:"https://www.npmjs.com/advisories/1316",target:"_blank",rel:"noopener noreferrer"}},[t._v("1316"),a("OutboundLink")],1),t._v(", "),a("a",{attrs:{href:"https://www.npmjs.com/advisories/1324",target:"_blank",rel:"noopener noreferrer"}},[t._v("1324"),a("OutboundLink")],1),t._v(" 및\n"),a("a",{attrs:{href:"https://www.npmjs.com/advisories/1325",target:"_blank",rel:"noopener noreferrer"}},[t._v("1325"),a("OutboundLink")],1),t._v(" 그리고\n"),a("a",{attrs:{href:"http://mahmoudsec.blogspot.com/2019/04/handlebars-template-injection-and-rce.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("Mahmoud Gamal"),a("OutboundLink")],1),t._v("의 블로그 기사를 참조\n하세요.")]),t._v(" "),a("p",[t._v(":::")]),t._v(" "),a("ul",[a("li",[a("p",[a("code",[t._v("allowProtoMethodsByDefault")]),t._v("(4.7.0 이후)：기본적으로 객체의 프로토타입에 정의된 메서드가 해석 가능해야 하는지 여부를정\n의하는 부울 값 (기본값: false).")]),t._v(" "),a("p",[a("code",[t._v("constructor")]),t._v("，"),a("code",[t._v("__defineGetter__")]),t._v("，"),a("code",[t._v("__defineSetter__")]),t._v("，"),a("code",[t._v("__lookupGetter__")]),t._v(", "),a("code",[t._v("__lookupSetter__")]),t._v(" 메서드는 이 옵션이\n"),a("code",[t._v("true")]),t._v("로 설정되어 있어도 금지됩니다. 이러한 메서드는 allowedProtoMethods에서 해당 키가 "),a("code",[t._v("true")]),t._v("로 설정된 경우에만 접근할\n수 있습니다.")])])]),t._v(" "),a("p",[t._v("이 옵션을 설정하면 프로토타입 메서드 접근이 시도되고 금지되었을 때 Handlebars가 콘솔에 기록하는 경고를 비활성화합니다.")]),t._v(" "),a("ul",[a("li",[a("p",[a("code",[t._v("allowedProtoMethods")]),t._v("(4.6.0 이후)：부모 객체의 메서드인 경우 허용되는 속성 이름의 문자열-부울 맵입니다. 정의되지 않은\n값은 "),a("code",[t._v("allowProtoMethodsByDefault")]),t._v("에서 정의된 값으로 되돌아갑니다.")])]),t._v(" "),a("li",[a("p",[a("code",[t._v("allowProtoPropertiesByDefault")]),t._v("(4.7.0 이후)：본적으로 객체의 프로토타입에 정의된 비메서드 속성이 해석 가능해야 하는지\n여부를 정의하는 부울 값 (기본값: false).")])])]),t._v(" "),a("p",[a("code",[t._v("__proto__")]),t._v(" 속성은 이 옵션이 "),a("code",[t._v("true")]),t._v("로 설정되어 있어도 금지됩니다. 이 속성은 "),a("code",[t._v("allowedProtoProperties")]),t._v("에서 해당 키가\n"),a("code",[t._v("true")]),t._v("로 설정된 경우에만 접근할 수 있습니다.")]),t._v(" "),a("p",[t._v("이 옵션을 설정하면 프로토타입 속성 접근이 시도되고 금지되었을 때 Handlebars가 콘솔에 기록하는 경고를 비활성화합니다.")]),t._v(" "),a("ul",[a("li",[a("p",[a("code",[t._v("allowedProtoProperties")]),t._v("(4.6.0 이후): 부모 객체의 메서드가 아닌 속성인 경우 허용되는 속성 이름의 문자열-부울 맵입니다.\n정의되지 않은 값은 "),a("code",[t._v("allowProtoPropertiesByDefault")]),t._v("에서 정의된 값으로 되돌아갑니다.")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" template "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" handlebars"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("compile")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"{{aString.trim}}"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" result "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("template")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("aString")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"  abc  "')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// result is empty, because trim is defined at String prototype")]),t._v("\n")])])]),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" template "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" handlebars"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("compile")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"{{aString.trim}}"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" result "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("template")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("aString")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"  abc  "')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("allowedProtoMethods")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("trim")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// result = 'abc'")]),t._v("\n")])])])])]),t._v(" "),a("p",[t._v("런타임 옵션을 전달할 수 없는 경우, "),a("a",{attrs:{href:"https://www.npmjs.com/package/express-handlebars",target:"_blank",rel:"noopener noreferrer"}},[t._v("express-handlebars"),a("OutboundLink")],1),t._v(" 와 같은 경우에\n는 "),a("a",{attrs:{href:"https://www.npmjs.com/package/@handlebars/allow-prototype-access",target:"_blank",rel:"noopener noreferrer"}},[t._v("@handlebars/allow-prototype-access"),a("OutboundLink")],1),t._v(" 패키지를 사용\n하여 4.5.3 버전의 동작으로 되돌릴 수 있습니다.")])])}),[],!1,null,null,null);e.default=r.exports}}]);