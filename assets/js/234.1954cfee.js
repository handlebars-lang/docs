(window.webpackJsonp=window.webpackJsonp||[]).push([[234],{708:function(e,a,s){"use strict";s.r(a);var t=s(53),l=Object(t.a)({},(function(){var e=this,a=e.$createElement,s=e._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[s("h1",{attrs:{id:"内置助手代码"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#内置助手代码"}},[e._v("#")]),e._v(" 内置助手代码")]),e._v(" "),s("h2",{attrs:{id:"if"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#if"}},[e._v("#")]),e._v(" #if")]),e._v(" "),s("p",[e._v("你可以使用 "),s("code",[e._v("if")]),e._v(" 助手代码来根据条件渲染代码块。如果其参数返回 "),s("code",[e._v("false")]),e._v("、"),s("code",[e._v("undefined")]),e._v("、"),s("code",[e._v("null")]),e._v("、"),s("code",[e._v('""')]),e._v("、 "),s("code",[e._v("0")]),e._v(" 或者\n"),s("code",[e._v("[]")]),e._v("，Handlebars 将不会渲染该块。")]),e._v(" "),s("ExamplePart",{attrs:{examplePage:"/zh/examples/builtin-helper-if-block.md",show:"template"}}),e._v(" "),s("p",[e._v("当你将以下输入传递给上述模板时")]),e._v(" "),s("ExamplePart",{attrs:{examplePage:"/zh/examples/builtin-helper-if-block.md",show:"input"}}),e._v(" "),s("p",[e._v("将得出如下结果：")]),e._v(" "),s("ExamplePart",{attrs:{examplePage:"/zh/examples/builtin-helper-if-block.md",show:"output"}}),e._v(" "),s("p",[e._v("如果输入是空的 JSONObject "),s("code",[e._v("{}")]),e._v("，则 author 将变为 undefined 并且 "),s("code",[e._v("if")]),e._v(" 条件失败。输出如下：")]),e._v(" "),s("div",{staticClass:"language-html extra-class"},[s("pre",{pre:!0,attrs:{class:"language-html"}},[s("code",[s("span",{pre:!0,attrs:{class:"hljs-tag"}},[e._v("<"),s("span",{pre:!0,attrs:{class:"hljs-name"}},[e._v("div")]),e._v(" "),s("span",{pre:!0,attrs:{class:"hljs-attr"}},[e._v("class")]),e._v("="),s("span",{pre:!0,attrs:{class:"hljs-string"}},[e._v('"entry"')]),e._v(">")]),s("span",{pre:!0,attrs:{class:"hljs-tag"}},[e._v("</"),s("span",{pre:!0,attrs:{class:"hljs-name"}},[e._v("div")]),e._v(">")]),e._v("\n")])])]),s("p",[e._v("使用代码块时，如果表达式返回 false，你可以通过标注 "),s("code",[e._v("else")]),e._v(" 的方式指定要运行的模板。")]),e._v(" "),s("ExamplePart",{attrs:{examplePage:"/zh/examples/builtin-helper-ifelse-block.md",show:"template"}}),e._v(" "),s("h3",{attrs:{id:"includezero"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#includezero"}},[e._v("#")]),e._v(" includeZero")]),e._v(" "),s("p",[e._v("设置 "),s("code",[e._v("includeZero=true")]),e._v(" 可将 "),s("code",[e._v("0")]),e._v(" 视为非空值，这可以控制 "),s("code",[e._v("0")]),e._v(" 在条件判断时是作为 true 还是 false。")]),e._v(" "),s("div",{staticClass:"language-handlebars extra-class"},[s("pre",{pre:!0,attrs:{class:"language-handlebars"}},[s("code",[s("span",{pre:!0,attrs:{class:"hljs-template-tag"}},[e._v("{{#"),s("span",{pre:!0,attrs:{class:"hljs-name"}},[s("span",{pre:!0,attrs:{class:"hljs-builtin-name"}},[e._v("if")])]),e._v(" "),s("span",{pre:!0,attrs:{class:"hljs-number"}},[e._v("0")]),e._v(" "),s("span",{pre:!0,attrs:{class:"hljs-attr"}},[e._v("includeZero")]),e._v("="),s("span",{pre:!0,attrs:{class:"hljs-literal"}},[e._v("true")]),e._v("}}")]),s("span",{pre:!0,attrs:{class:"xml"}},[e._v("\n"),s("span",{pre:!0,attrs:{class:"hljs-tag"}},[e._v("<"),s("span",{pre:!0,attrs:{class:"hljs-name"}},[e._v("h1")]),e._v(">")]),e._v("这里会渲染"),s("span",{pre:!0,attrs:{class:"hljs-tag"}},[e._v("</"),s("span",{pre:!0,attrs:{class:"hljs-name"}},[e._v("h1")]),e._v(">")]),e._v("\n")]),s("span",{pre:!0,attrs:{class:"hljs-template-tag"}},[e._v("{{/"),s("span",{pre:!0,attrs:{class:"hljs-name"}},[s("span",{pre:!0,attrs:{class:"hljs-builtin-name"}},[e._v("if")])]),e._v("}}")]),s("span",{pre:!0,attrs:{class:"xml"}},[e._v("\n")])])])]),s("h3",{attrs:{id:"子表达式"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#子表达式"}},[e._v("#")]),e._v(" 子表达式")]),e._v(" "),s("p",[e._v("建议使用助手代码向模板添加逻辑。你可以编写助手代码并将其应用到子表达式中。")]),e._v(" "),s("p",[e._v("例如，在检查变量的初始化时，内置的 "),s("code",[e._v("#if")]),e._v(" 检查可能不合适，因为它对于空集合返回 false（参见\n"),s("RouterLink",{attrs:{to:"/zh/api-reference/utilities.html#handlebars-utils-isempty-value"}},[e._v("Utils.isEmpty")]),e._v("）。")],1),e._v(" "),s("p",[e._v('你可以写一段助手代码来检查 "undefined"，如：')]),e._v(" "),s("ExamplePart",{attrs:{examplePage:"/zh/examples/builtin-helper-if-subexpression.md",show:"preparationScript"}}),e._v(" "),s("p",[e._v("然后将助手代码用作子表达式：")]),e._v(" "),s("ExamplePart",{attrs:{examplePage:"/zh/examples/builtin-helper-if-subexpression.md",show:"template"}}),e._v(" "),s("h2",{attrs:{id:"unless"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#unless"}},[e._v("#")]),e._v(" #unless")]),e._v(" "),s("p",[e._v("你可以将 "),s("code",[e._v("unless")]),e._v(" 助手代码看作与 "),s("code",[e._v("if")]),e._v(" 助手代码相反。如果表达式返回 false 则将渲染代码块。")]),e._v(" "),s("ExamplePart",{attrs:{examplePage:"/zh/examples/builtin-helper-unless-block.md",show:"template"}}),e._v(" "),s("p",[e._v("如果在当前上下文中查找 "),s("code",[e._v("license")]),e._v(" 返回 false，则 Handlebars 将提供警告。除此以外，它不会进行渲染。")]),e._v(" "),s("h2",{attrs:{id:"each"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#each"}},[e._v("#")]),e._v(" #each")]),e._v(" "),s("p",[e._v("你可以使用内置的 "),s("code",[e._v("each")]),e._v(" 助手代码遍历列表。在块内，你可以使用 "),s("code",[e._v("this")]),e._v(" 来引用被迭代的元素。")]),e._v(" "),s("ExamplePart",{attrs:{examplePage:"/zh/examples/builtin-helper-each-block.md",show:"template"}}),e._v(" "),s("p",[e._v("当与此上下文一起使用时：")]),e._v(" "),s("ExamplePart",{attrs:{examplePage:"/zh/examples/builtin-helper-each-block.md",show:"input"}}),e._v(" "),s("p",[e._v("将导致：")]),e._v(" "),s("ExamplePart",{attrs:{examplePage:"/zh/examples/builtin-helper-each-block.md",show:"output"}}),e._v(" "),s("p",[e._v("你可以在任何上下文中使用 "),s("code",[e._v("this")]),e._v(" 指针来引用当前上下文。")]),e._v(" "),s("p",[e._v("你可以选择提供一个 "),s("code",[e._v("else")]),e._v("，该代码块将只会在列表为空时显示。")]),e._v(" "),s("ExamplePart",{attrs:{examplePage:"/zh/examples/builtin-helper-eachelse-block.md",show:"template"}}),e._v(" "),s("div",{pre:!0},[s("p",[e._v("当遍历 "),s("code",[e._v("each")]),e._v(" 中的项目时，你可以选择通过 "),s("code",[e._v("{{@index}}")]),e._v(" 引用当前循环的索引。")]),e._v(" "),s("div",{pre:!0,attrs:{class:"language-handlebars extra-class"}},[s("pre",{pre:!0,attrs:{"v-pre":"",class:"language-handlebars"}},[s("code",[s("span",{pre:!0,attrs:{class:"hljs-template-tag"}},[e._v("{{#"),s("span",{pre:!0,attrs:{class:"hljs-name"}},[s("span",{pre:!0,attrs:{class:"hljs-builtin-name"}},[e._v("each")])]),e._v(" array}}")]),s("span",{pre:!0,attrs:{class:"xml"}},[e._v(" ")]),s("span",{pre:!0,attrs:{class:"hljs-template-variable"}},[e._v("{{@"),s("span",{pre:!0,attrs:{class:"hljs-name"}},[e._v("index")]),e._v("}}")]),s("span",{pre:!0,attrs:{class:"xml"}},[e._v(": ")]),s("span",{pre:!0,attrs:{class:"hljs-template-variable"}},[e._v("{{"),s("span",{pre:!0,attrs:{class:"hljs-name"}},[e._v("this")]),e._v("}}")]),s("span",{pre:!0,attrs:{class:"xml"}},[e._v(" ")]),s("span",{pre:!0,attrs:{class:"hljs-template-tag"}},[e._v("{{/"),s("span",{pre:!0,attrs:{class:"hljs-name"}},[s("span",{pre:!0,attrs:{class:"hljs-builtin-name"}},[e._v("each")])]),e._v("}}")]),s("span",{pre:!0,attrs:{class:"xml"}},[e._v("\n")])])])]),s("p",[e._v("此外，对于对象迭代，可以使用 "),s("code",[e._v("{{@key}}")]),e._v(" 引用当前的键名：")]),e._v(" "),s("div",{pre:!0,attrs:{class:"language-handlebars extra-class"}},[s("pre",{pre:!0,attrs:{"v-pre":"",class:"language-handlebars"}},[s("code",[s("span",{pre:!0,attrs:{class:"hljs-template-tag"}},[e._v("{{#"),s("span",{pre:!0,attrs:{class:"hljs-name"}},[s("span",{pre:!0,attrs:{class:"hljs-builtin-name"}},[e._v("each")])]),e._v(" object}}")]),s("span",{pre:!0,attrs:{class:"xml"}},[e._v(" ")]),s("span",{pre:!0,attrs:{class:"hljs-template-variable"}},[e._v("{{@"),s("span",{pre:!0,attrs:{class:"hljs-name"}},[e._v("key")]),e._v("}}")]),s("span",{pre:!0,attrs:{class:"xml"}},[e._v(": ")]),s("span",{pre:!0,attrs:{class:"hljs-template-variable"}},[e._v("{{"),s("span",{pre:!0,attrs:{class:"hljs-name"}},[e._v("this")]),e._v("}}")]),s("span",{pre:!0,attrs:{class:"xml"}},[e._v(" ")]),s("span",{pre:!0,attrs:{class:"hljs-template-tag"}},[e._v("{{/"),s("span",{pre:!0,attrs:{class:"hljs-name"}},[s("span",{pre:!0,attrs:{class:"hljs-builtin-name"}},[e._v("each")])]),e._v("}}")]),s("span",{pre:!0,attrs:{class:"xml"}},[e._v("\n")])])])])]),s("p",[e._v("在数组上进行迭代时，通过 "),s("RouterLink",{attrs:{to:"/zh/api-reference/data-variables.html#first"}},[s("code",[e._v("@first")])]),e._v(" 和\n"),s("RouterLink",{attrs:{to:"/zh/api-reference/data-variables.html#last"}},[s("code",[e._v("@last")])]),e._v(" 变量记录迭代的第一项和最后一项。")],1),e._v(" "),s("div",{pre:!0},[s("p",[e._v("嵌套的每个块都可以通过基于深度的路径来访问迭代变量。例如，要访问父级的索引，可以使用 "),s("code",[e._v("{{@../index}}")]),e._v("。")])]),s("h2",{attrs:{id:"with"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#with"}},[e._v("#")]),e._v(" #with")]),e._v(" "),s("p",[s("code",[e._v("with")]),e._v(" 助手代码允许你更改 "),s("code",[e._v("template-part")]),e._v(" 的上下文表达式。")]),e._v(" "),s("ExamplePart",{attrs:{examplePage:"/zh/examples/builtin-helper-with-block.md",show:"template"}}),e._v(" "),s("p",[e._v("当与此上下文一起使用时：")]),e._v(" "),s("ExamplePart",{attrs:{examplePage:"/zh/examples/builtin-helper-with-block.md",show:"input"}}),e._v(" "),s("p",[e._v("将得到以下结果：")]),e._v(" "),s("ExamplePart",{attrs:{examplePage:"/zh/examples/builtin-helper-with-block.md",show:"output"}}),e._v(" "),s("p",[s("code",[e._v("with")]),e._v(" 还可与代码块参数一起使用来以定义当前代码块中的已知引用。例如，上面的例子可以转换成")]),e._v(" "),s("ExamplePart",{attrs:{examplePage:"/zh/examples/builtin-helper-with-block-param.md",show:"template"}}),e._v(" "),s("p",[e._v("这使得复杂的模板可以提供比 n "),s("code",[e._v("../")]),e._v(" 深度引用更清晰的代码。")]),e._v(" "),s("div",{pre:!0},[s("p",[e._v("你可以选择提供一个 "),s("code",[e._v("{{else}}")]),e._v(" ，该代码块仅在传递的值为空时渲染。")])]),s("Flex",[s("ExamplePart",{attrs:{examplePage:"/zh/examples/builtin-helper-with-else.md",show:"template"}}),e._v(" "),s("ExamplePart",{attrs:{examplePage:"/zh/examples/builtin-helper-with-else.md",show:"input"}})],1),e._v(" "),s("h2",{attrs:{id:"lookup"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#lookup"}},[e._v("#")]),e._v(" lookup")]),e._v(" "),s("p",[s("code",[e._v("lookup")]),e._v(" 助手代码允许使用 Handlebars 变量进行动态的参数解析。")]),e._v(" "),s("p",[e._v("这对于解析数组索引的值非常有用。")]),e._v(" "),s("ExamplePart",{attrs:{examplePage:"/zh/examples/builtin-helper-lookup.md",show:"template"}}),e._v(" "),s("p",[e._v("它也可以用于基于输入的数据查找对象属性。以下是一个更复杂的示例：它在子表达式中使用 "),s("code",[e._v("lookup")]),e._v(" 将上下文表达式更改为另一个 “\n属性-值” 的对象。")]),e._v(" "),s("ExamplePart",{attrs:{examplePage:"/zh/examples/builtin-helper-lookup-dynamic-property.md",show:"template"}}),e._v(" "),s("h2",{attrs:{id:"log"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#log"}},[e._v("#")]),e._v(" log")]),e._v(" "),s("p",[s("code",[e._v("log")]),e._v(" 助手代码允许在执行模板时记录上下文的状态。")]),e._v(" "),s("ExamplePart",{attrs:{examplePage:"/zh/examples/builtin-helper-log.md",show:"template"}}),e._v(" "),s("p",[e._v("它将委托给 "),s("code",[e._v("Handlebars.logger.log")]),e._v(" ，而 "),s("code",[e._v("Handlebars.logger.log")]),e._v(" 可以被覆盖以执行自定义日志记录。")]),e._v(" "),s("p",[e._v("可以将任何数量的参数传递给此方法，并且所有参数都将转发给 logger。")]),e._v(" "),s("ExamplePart",{attrs:{examplePage:"/zh/examples/builtin-helper-log-multiple-params.md",show:"template"}}),e._v(" "),s("p",[e._v("可以使用 "),s("code",[e._v("level")]),e._v(" 参数设置日志级别。支持的值为 "),s("code",[e._v("debug")]),e._v("、"),s("code",[e._v("info")]),e._v("、"),s("code",[e._v("warn")]),e._v(" 和 "),s("code",[e._v("error")]),e._v("（"),s("code",[e._v("info")]),e._v(" 是默认值）。")]),e._v(" "),s("p",[e._v("记录是基于 "),s("code",[e._v("level")]),e._v(" 参数和在 "),s("code",[e._v("Handlebars.logger.level")]),e._v(" 中设置的值（默认为 "),s("code",[e._v("info")]),e._v("）的条件。所有比选定级别更高的记录将被输\n出。")]),e._v(" "),s("ExamplePart",{attrs:{examplePage:"/zh/examples/builtin-helper-log-loglevel.md",show:"template"}})],1)}),[],!1,null,null,null);a.default=l.exports}}]);